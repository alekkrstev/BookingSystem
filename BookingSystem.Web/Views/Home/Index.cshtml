@{
    ViewData["Title"] = "Почетна";
}

<div class="container mt-5 animate-fade-in">
    <div class="text-center mb-5">
        <h1 class="hero-title">
            
            <span class="title-text-white">
                ODAX PLAYROOM
            </span>
        </h1>
        <div class="ps-icons-row">
            <span class="ps-icon ps-circle">●</span>
            <span class="ps-icon ps-square">■</span>
            <span class="ps-icon ps-triangle">▲</span>
            <span class="ps-icon ps-x">✕</span>
        </div>
    </div>

    <div class="row g-4 mb-5">
        @if (User.Identity?.IsAuthenticated == true)
        {
            <!-- Feature 1 - PlayStation (кликлива) -->
            <div class="col-md-3">
                <a href="@Url.Action("Create", "Appointment", new { activityId = 1 })" class="feature-box-link">
                    <div class="feature-box">
                        <div class="feature-icon">🎮</div>
                        <h4 class="fw-bold mb-3">Sony PlayStation</h4>
                    </div>
                </a>
            </div>

            <!-- Feature 2 - Darts (кликлива) -->
            <div class="col-md-3">
                <a href="@Url.Action("Create", "Appointment", new { activityId = 2 })" class="feature-box-link">
                    <div class="feature-box">
                        <div class="feature-icon">🎯</div>
                        <h4 class="fw-bold mb-3">Пикадо</h4>
                    </div>
                </a>
            </div>

            <!-- Feature 3 - 8-Ball Pool (кликлива) -->
            <div class="col-md-3">
                <a href="@Url.Action("Create", "Appointment", new { activityId = 3 })" class="feature-box-link">
                    <div class="feature-box">
                        <div class="feature-icon">🎱</div>
                        <h4 class="fw-bold mb-3">Билјард</h4>
                    </div>
                </a>
            </div>

            <!-- Feature 4 - FIFA (кликлива) -->
            <div class="col-md-3">
                <a href="@Url.Action("Create", "Appointment", new { activityId = 4 })" class="feature-box-link">
                    <div class="feature-box">
                        <div class="feature-icon">⚽</div>
                        <h4 class="fw-bold mb-3">Фудбалче</h4>
                    </div>
                </a>
            </div>
        }
        else
        {
            <!-- Feature 1 - НЕ кликлива ако не си логиран -->
            <div class="col-md-3">
                <div class="feature-box">
                    <div class="feature-icon">🎮</div>
                    <h4 class="fw-bold mb-3">Sony PlayStation</h4>
                </div>
            </div>

            <!-- Feature 2 -->
            <div class="col-md-3">
                <div class="feature-box">
                    <div class="feature-icon">🎯</div>
                    <h4 class="fw-bold mb-3">Пикадо</h4>
                </div>
            </div>

            <!-- Feature 3 -->
            <div class="col-md-3">
                <div class="feature-box">
                    <div class="feature-icon">🎱</div>
                    <h4 class="fw-bold mb-3">Билјард</h4>
                </div>
            </div>

            <!-- Feature 4 -->
            <div class="col-md-3">
                <div class="feature-box">
                    <div class="feature-icon">⚽</div>
                    <h4 class="fw-bold mb-3">Фудбалче</h4>
                </div>
            </div>
        }
    </div>

    <!-- Daily Quote with Flip Effect -->
    @if (ViewBag.DailyQuote != null)
    {
        var quote = ViewBag.DailyQuote as BookingSystem.Application.DTOs.QuoteDto;

        <div class="daily-quote-flip-container mb-5 animate-fade-in">
            <div class="daily-quote-flip-card">
                <!-- Front Side - Original Quote -->
                <div class="daily-quote-front">
                    <blockquote class="quote-content">
                        "@quote.Content"
                    </blockquote>
                    <div class="quote-author">— @quote.Author</div>
                </div>

                <!-- Back Side - Gaming Context -->
                <div class="daily-quote-back">
                    <div class="gaming-label">Gaming Wisdom</div>
                    <div class="gaming-context-text">
                        @quote.GamingContext
                    </div>
                </div>
            </div>
        </div>
    }

    @if (User.Identity?.IsAuthenticated == true)
    {
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card text-center p-5">
                    <div class="card-body">
                        <h2 class="mb-4">👋 Здраво, <strong>@User.Identity.Name!</strong></h2>
                        <p class="lead text-white mb-4">
                             Резервирај брзо и едноставно само со 3 клика
                        </p>
                        <div class="d-grid gap-3 d-md-flex justify-content-md-center">
                            @if (User.IsInRole("Admin"))
                            {
                                <a asp-controller="Admin" asp-action="AdminDashboard" class="btn btn-primary btn-lg px-5">
                                    <i class="bi bi-speedometer2"></i> Админ Панел
                                </a>
                            }
                            else
                            {
                                <a asp-controller="Appointment" asp-action="Create" class="btn btn-success btn-lg px-5">
                                    <i class="bi bi-plus-circle"></i> Нова Резервација
                                </a>
                                <a asp-controller="Appointment" asp-action="Index" class="btn btn-primary btn-lg px-5">
                                    <i class="bi bi-calendar-check"></i> Мои Резервации
                                </a>
                            }
                        </div>
                    </div>
                    <div class="text-center mb-5">
                        <a asp-controller="Review" asp-action="CreatePlayroomReview" class="btn btn-warning btn-lg">
                            <i class="bi"></i> Остави Review за ODAX
                        </a>
                    </div>
                </div>
            </div>
        </div>
    }
    else
    {
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card text-center p-5">
                    <div class="card-body">
                        <h2 class="mb-4">🚀 Започни Денес!</h2>
                        <p class="lead text-white mb-4">
                            Најави се или креирај профил и резервирај го твојот термин во неколку едноставни чекори.
                        </p>
                        <div class="d-grid gap-3 d-md-flex justify-content-md-center">
                            <a asp-controller="Account" asp-action="Login" class="btn btn-primary btn-lg px-5">
                                <i class="bi bi-box-arrow-in-right"></i> Најави се
                            </a>
                            <a asp-controller="Account" asp-action="Register" class="btn btn-outline-primary btn-lg px-5">
                                <i class="bi bi-person-plus"></i> Регистрирај се
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
</div>